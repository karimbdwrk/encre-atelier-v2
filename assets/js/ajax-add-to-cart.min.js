!function(t){function a(t){var a=t.getBoundingClientRect(),e=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:a.top+r,left:a.left+e}}t(document).on("click",".single_add_to_cart_button",function(e){e.preventDefault();var r=t(this),d=r.closest("form.cart"),n=r.val(),i=d.find("input[name=quantity]").val()||1,o={action:"woocommerce_ajax_add_to_cart",product_id:d.find("input[name=product_id]").val()||n,product_sku:"",quantity:i,variation_id:d.find("input[name=variation_id]").val()||0};return t(document.body).trigger("adding_to_cart",[r,o]),t.ajax({type:"post",url:wc_add_to_cart_params.ajax_url,data:o,beforeSend:function(t){r.removeClass("added").addClass("loading")},complete:function(t){r.addClass("added").removeClass("loading")},success:function(e){e.error&&e.product_url?window.location=e.product_url:(t(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,r]),function(){let t=parseInt(document.querySelector(".btn-panier #nbr").innerHTML);const e=document.querySelector(".single_add_to_cart_button"),r=document.getElementById("faceSmile"),d=document.getElementById("faceCart");e.innerHTML="";let n=a(r),i=a(d);let o=n.left-i.left,s=n.top-i.top;let u=anime.timeline();window.innerWidth<=425?u.add({targets:e,borderRadius:"100px",easing:"easeOutQuart",duration:250}).add({targets:e,borderRadius:"100px",width:"40px",height:"40px",easing:"easeOutQuart",borderWidth:"2px",duration:250},"-=250").add({targets:e,easing:"easeOutQuart",opacity:[1,0],duration:250},"+=250").add({targets:r,easing:"easeOutQuart",opacity:[0,1],duration:250},"-=500").add({targets:r,easing:"easeOutQuart",translateX:{value:-o,easing:"easeOutQuart",duration:1500},translateY:{value:-s,easing:"easeOutBack",duration:1500},scale:.5}).add({targets:"#faceSmile g",easing:"easeOutQuart",translateX:"-50%",translateY:"-50%",duration:250},"-=500").add({targets:r,easing:"easeOutQuart",opacity:[1,0],duration:500},"+=250").add({targets:r,translateX:{value:0,easing:"linear",duration:500},translateY:{value:0,easing:"linear",duration:500},scale:1}).add({targets:"#faceSmile g",easing:"easeOutQuart",translateX:"0%",translateY:"0%",duration:250},"-=500").add({targets:e,borderRadius:"0",width:"50%",height:"40px",easing:"easeOutQuart",borderWidth:"1px",duration:250}).add({targets:e,easing:"easeOutQuart",opacity:[0,1],duration:250}):u.add({targets:e,borderRadius:"100px",easing:"easeOutQuart",borderWidth:"1px solid pink",duration:250}).add({targets:e,borderRadius:"100px",width:"30px",height:"30px",easing:"easeOutQuart",borderWidth:"2px",duration:250}).add({targets:e,easing:"easeOutQuart",opacity:[1,0],duration:250},"+=250").add({targets:r,easing:"easeOutQuart",opacity:[0,1],duration:250},"-=250").add({targets:r,easing:"easeOutQuart",translateX:{value:-o,easing:"easeOutQuart",duration:1500},translateY:{value:-s,easing:"easeOutBack",duration:1500}}).add({targets:r,easing:"easeOutQuart",opacity:[1,0],duration:500},"+=250").add({targets:r,translateX:{value:0,easing:"linear",duration:500},translateY:{value:0,easing:"linear",duration:500}}).add({targets:e,borderRadius:"0",width:"50%",height:"40px",easing:"easeOutQuart",borderWidth:"1px",duration:250}).add({targets:e,easing:"easeOutQuart",opacity:[0,1],duration:250}),setTimeout(()=>{document.querySelector(".btn-panier #nbr").innerHTML=t+1,d.classList.remove("empty"),e.innerHTML="BUY"},2500),setTimeout(()=>{e.classList.remove("added")},3e3)}())}}),!1})}(jQuery);
